{% extends 'base.html' %} 
{% load static %} {% block title %}Register{% endblock %} {% block extra_css %}
<link href="{% static 'css/auth.css' %}" rel="stylesheet" />
<style>
  .auth-container {
    min-height: calc(100vh - 71px);
    padding-top: 1rem;
    margin-top: 0;
  }

  .auth-card {
    background: white;
    border-radius: 1rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 900px;
    padding: 2rem;
  }

  .card-title-divider {
    border-bottom: 1px solid #eee;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }

  .form-section {
    background-color: #f8f9fa;
    border-radius: 0.5rem;
    padding: 1.5rem;
    height: 100%;
    margin-bottom: 1.5rem;
  }

  @media (max-width: 768px) {
    .auth-card {
      padding: 1.5rem;
    }
  }
</style>
{% endblock %} {% block content %}
<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header mb-4">
      <h3>Create Account</h3>
      <p>Join our HomeBridge community</p>
    </div>

    {% if messages %} {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %} {% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="row">
        <div class="col-md-6 mb-4 mb-md-0">
          <div class="form-section">
            <h5 class="card-title-divider">Account Information</h5>

            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label
                    for="{{ user_form.username.id_for_label }}"
                    class="form-label"
                    >Username</label
                  >
                  {{ user_form.username }} {% if user_form.username.errors %}
                  <div class="invalid-feedback d-block">
                    {{ user_form.username.errors|join:", " }}
                  </div>
                  {% endif %}
                </div>

                <div class="mb-3">
                  <label
                    for="{{ user_form.email.id_for_label }}"
                    class="form-label"
                    >Email</label
                  >
                  {{ user_form.email }} {% if user_form.email.errors %}
                  <div class="invalid-feedback d-block">
                    {{ user_form.email.errors|join:", " }}
                  </div>
                  {% endif %}
                </div>
              </div>

              <div class="col-md-6">
                <div class="mb-3">
                  <label
                    for="{{ user_form.password1.id_for_label }}"
                    class="form-label"
                    >Password</label
                  >
                  <div class="input-group">
                    {{ user_form.password1 }}
                    <button
                      class="btn password-toggle"
                      type="button"
                      data-target="password-field1"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </div>
                  {% if user_form.password1.errors %}
                  <div class="invalid-feedback d-block">
                    {{ user_form.password1.errors|join:", " }}
                  </div>
                  {% endif %}
                </div>

                <div class="mb-3">
                  <label
                    for="{{ user_form.password2.id_for_label }}"
                    class="form-label"
                    >Confirm Password</label
                  >
                  <div class="input-group">
                    {{ user_form.password2 }}
                    <button
                      class="btn password-toggle"
                      type="button"
                      data-target="password-field2"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </div>
                  {% if user_form.password2.errors %}
                  <div class="invalid-feedback d-block">
                    {{ user_form.password2.errors|join:", " }}
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-section">
            <h5 class="card-title-divider">Personal Information</h5>

            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.full_name.id_for_label }}"
                    class="form-label"
                    >Full Name</label
                  >
                  {{ adopter_form.full_name }} {% if adopter_form.full_name.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.full_name.errors }}
                  </div>
                  {% endif %}
                </div>
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.age.id_for_label }}"
                    class="form-label"
                    >Age</label
                  >
                  {{ adopter_form.age }} {% if adopter_form.age.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.age.errors }}
                  </div>
                  {% endif %}
                </div>
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.marital_status.id_for_label }}"
                    class="form-label"
                    >Marital Status</label
                  >
                  {{ adopter_form.marital_status }} {% if adopter_form.marital_status.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.marital_status.errors }}
                  </div>
                  {% endif %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.employment_status.id_for_label }}"
                    class="form-label"
                    >Employment Status</label
                  >
                  {{ adopter_form.employment_status }} {% if adopter_form.employment_status.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.employment_status.errors }}
                  </div>
                  {% endif %}
                </div>
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.job_type.id_for_label }}"
                    class="form-label"
                    >Job Type</label
                  >
                  {{ adopter_form.job_type }} {% if adopter_form.job_type.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.job_type.errors }}
                  </div>
                  {% endif %}
                </div>
                <div class="mb-3">
                  <label
                    for="{{ adopter_form.income_level.id_for_label }}"
                    class="form-label"
                    >Income Level</label
                  >
                  {{ adopter_form.income_level }} {% if adopter_form.income_level.errors %}
                  <div class="invalid-feedback d-block">
                    {{ adopter_form.income_level.errors }}
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>

            <div class="mb-3">
              <p class="text-info">
                {% comment %} <i class="fas fa-info-circle"></i>
                Additional personal details like address and identification will
                be collected after registration.
              </p>
              {% endcomment %}
            </div>
          </div>
        </div>
      </div>

      <button type="submit" class="auth-btn mt-3 w-100">Create Account</button>
    </form>

    <div class="auth-links mt-3 text-center">
      <p>
        Already have an account?
        <a href="{% url 'accounts:login' %}">Sign In</a>
      </p>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleButtons = document.querySelectorAll(".password-toggle");

    toggleButtons.forEach((button) => {
      button.addEventListener("click", function () {
        const targetId = this.getAttribute("data-target");
        const passwordField = document.getElementById(targetId);

        if (passwordField.type === "password") {
          passwordField.type = "text";
          this.querySelector("i").classList.replace("fa-eye", "fa-eye-slash");
        } else {
          passwordField.type = "password";
          this.querySelector("i").classList.replace("fa-eye-slash", "fa-eye");
        }
      });
    });
  });
</script>
{% endblock %}
